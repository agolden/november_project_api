<?php	require_once('../hidden/helper_classes/NP_RequestHandler.php');	require_once('../hidden/service_layer/NP_WorkoutLocationService.php');	require_once('../hidden/data_model/NP_WorkoutLocationModel.php');		class WorkoutLocationHandler extends RequestHandler	{		function handleGet()		{			$workout_location_service = new WorkoutLocationService($this->DBH);						if(!empty($_GET['id']))				$this->response->records = $workout_location_service->getWorkoutLocationById($_GET['id']);			elseif(!empty($_GET['tribe_id']))				$this->response->records = $workout_location_service->getWorkoutLocationByTribeId($_GET['tribe_id']);			else				$this->response->records = $workout_location_service->getAllWorkoutLocations();		}				function handlePost()		{			$workout_location_service = new WorkoutLocationService($this->DBH);			$request = RequestHandler::getValidJSON();						if (!WorkoutLocationModel::hasRequiredAttributes($request))				throw new RequiredParameterMissingException(null);			$workout_location = new WorkoutLocationModel();						$workout_location = $this->mapRequestToProperties($request, $workout_location);			/*$workout_location->tribe_id = $request['tribe_id'];			$workout_location->name = $request['tribe_id'];			$workout_location->latitude = $request['latitude'];			$workout_location->longitude = $request['longitude'];*/			$this->response->records = $workout_location_service->upsertWorkoutLocation($workout_location);		}		function mapRequestToProperties($request, &$object)		{			$refObj = new ReflectionObject($object);			foreach ($request as $key => $value) {    			if(!$refObj->hasProperty($key))    				throw new InvalidParameterException(null);				$object->$key = $value;			}		}				function handlePut()		{			$workout_location_service = new WorkoutLocationService($this->DBH);			$request = RequestHandler::getValidJSON();			if(empty($_GET['id']))				throw new RequiredParameterMissingException(null);			//$location_record = $workout_location_service->getWorkoutLocationById($_GET['id']);						//$stmt = $this->mysqli->prepare("UPDATE Workout_Location SET name=?,lat=?,lng=? WHERE ID=?");			//$stmt->bind_param('ssss', $request['name'], $request['lat'], $request['lng'], $request['ID']);			//executeSQL($stmt, $this->response);		}	}		$handler = new WorkoutLocationHandler;	$handler->handleRequest();?>